(unit-tests 'jpeg)

(defvar *jpeg* #(
0xff 0xd8 0xff 0xe0 0x00 0x10 0x4a 0x46  0x49 0x46 0x00 0x01 0x01 0x00 0x00 0x01
0x00 0x01 0x00 0x00 0xff 0xdb 0x00 0x43  0x00 0x03 0x02 0x02 0x02 0x02 0x02 0x03 
0x02 0x02 0x02 0x03 0x03 0x03 0x03 0x04  0x06 0x04 0x04 0x04 0x04 0x04 0x08 0x06 
0x06 0x05 0x06 0x09 0x08 0x0a 0x0a 0x09  0x08 0x09 0x09 0x0a 0x0c 0x0f 0x0c 0x0a 
0x0b 0x0e 0x0b 0x09 0x09 0x0d 0x11 0x0d  0x0e 0x0f 0x10 0x10 0x11 0x10 0x0a 0x0c 
0x12 0x13 0x12 0x10 0x13 0x0f 0x10 0x10  0x10 0xff 0xdb 0x00 0x43 0x01 0x03 0x03 
0x03 0x04 0x03 0x04 0x08 0x04 0x04 0x08  0x10 0x0b 0x09 0x0b 0x10 0x10 0x10 0x10 
0x10 0x10 0x10 0x10 0x10 0x10 0x10 0x10  0x10 0x10 0x10 0x10 0x10 0x10 0x10 0x10 
0x10 0x10 0x10 0x10 0x10 0x10 0x10 0x10  0x10 0x10 0x10 0x10 0x10 0x10 0x10 0x10 
0x10 0x10 0x10 0x10 0x10 0x10 0x10 0x10  0x10 0x10 0x10 0x10 0x10 0x10 0xff 0xc0 
0x00 0x11 0x08 0x00 0x06 0x00 0x08 0x03  0x01 0x11 0x00 0x02 0x11 0x01 0x03 0x11 
0x01 0xff 0xc4 0x00 0x14 0x00 0x01 0x00  0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 
0x00 0x00 0x00 0x00 0x00 0x00 0x08 0xff  0xc4 0x00 0x20 0x10 0x00 0x02 0x02 0x01 
0x03 0x05 0x00 0x00 0x00 0x00 0x00 0x00  0x00 0x00 0x00 0x00 0x01 0x02 0x03 0x04 
0x05 0x06 0x07 0x11 0x12 0x13 0x22 0x41  0x51 0xff 0xc4 0x00 0x15 0x01 0x01 0x01 
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00  0x00 0x00 0x00 0x00 0x00 0x00 0x04 0x06 
0xff 0xc4 0x00 0x1e 0x11 0x00 0x03 0x00  0x02 0x02 0x03 0x01 0x00 0x00 0x00 0x00 
0x00 0x00 0x00 0x00 0x00 0x01 0x02 0x03  0x04 0x11 0x05 0x06 0x12 0x21 0x51 0x07 
0xff 0xda 0x00 0x0c 0x03 0x01 0x00 0x02  0x11 0x03 0x11 0x00 0x3f 0x00 0x44 0xed 
0x96 0xcc 0x5f 0xd3 0x0b 0x63 0x29 0x84  0xd5 0xd6 0x22 0x99 0x7b 0xd5 0x6b 0x96 
0x8d 0x1d 0x61 0x72 0xab 0x1c 0xb2 0xf4  0xba 0xb0 0x2c 0xe6 0x24 0x63 0xeb 0xc4 
0x0f 0xbc 0xc9 0x77 0x9f 0xd3 0x7a 0xd3  0xd0 0xf1 0x7d 0x97 0x0a 0x95 0x53 0x5b 
0x33 0x2c 0xc8 0x44 0xa2 0x26 0x45 0x92  0x2a 0xfe 0x2c 0x8c 0x4c 0x80 0x2a 0xa4 
0x68 0xeb 0x5b 0x2d 0xe8 0x29 0x13 0x8a  0xe6 0xf3 0x2b 0x1c 0xcc 0x0c 0x80 0xa1 
0x65 0x30 0x03 0x96 0x6d 0x33 0xca 0x6e  0xe4 0x02 0x08 0x1e 0x44 0xec 0xfd 0x3b 
0xf5 0xf7 0xff 0xd9))

(defvar *jpeg2* #(
  0xff 0xd8 0xff 0xe0 0x00 0x10 0x4a 0x46  0x49 0x46 0x00 0x01 0x01 0x00 0x00 0x64 
0x00 0x64 0x00 0x00 0xff 0xdb 0x00 0x43  0x00 0x0a 0x07 0x07 0x09 0x07 0x06 0x0a 
0x09 0x08 0x09 0x0b 0x0b 0x0a 0x0c 0x0f  0x19 0x10 0x0f 0x0e 0x0e 0x0f 0x1e 0x16 
0x17 0x12 0x19 0x24 0x20 0x26 0x25 0x23  0x20 0x23 0x22 0x28 0x2d 0x39 0x30 0x28 
0x2a 0x36 0x2b 0x22 0x23 0x32 0x44 0x32  0x36 0x3b 0x3d 0x40 0x40 0x40 0x26 0x30 
0x46 0x4b 0x45 0x3e 0x4a 0x39 0x3f 0x40  0x3d 0xff 0xdb 0x00 0x43 0x01 0x0b 0x0b 
0x0b 0x0f 0x0d 0x0f 0x1d 0x10 0x10 0x1d  0x3d 0x29 0x23 0x29 0x3d 0x3d 0x3d 0x3d 
0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d  0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 
0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d  0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 
0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d  0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0xff 0xc0 
0x00 0x11 0x08 0x00 0x73 0x00 0x71 0x03  0x01 0x22 0x00 0x02 0x11 0x01 0x03 0x11 
0x01 0xff 0xc4 0x00 0x1a 0x00 0x00 0x02  0x03 0x01 0x01 0x00 0x00 0x00 0x00 0x00 
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x04  0x02 0x03 0x05 0x01 0x06 0xff 0xc4 0x00 
0x2f 0x10 0x00 0x02 0x02 0x02 0x00 0x04  0x05 0x03 0x03 0x04 0x03 0x00 0x00 0x00 
0x00 0x00 0x00 0x01 0x02 0x03 0x04 0x11  0x12 0x21 0x31 0x61 0x05 0x13 0x22 0x41 
0x51 0x06 0x14 0x32 0x23 0x42 0x71 0x15  0x16 0x91 0xd1 0x81 0xa1 0xb1 0xff 0xc4 
0x00 0x19 0x01 0x00 0x02 0x03 0x01 0x00  0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00 
0x00 0x00 0x00 0x00 0x01 0x02 0x03 0x04  0x05 0xff 0xc4 0x00 0x23 0x11 0x00 0x03 
0x00 0x02 0x00 0x06 0x02 0x03 0x00 0x00  0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x01 
0x02 0x03 0x11 0x04 0x12 0x13 0x21 0x31  0x41 0x14 0x22 0x61 0x81 0x91 0xff 0xda 
0x00 0x0c 0x03 0x01 0x00 0x02 0x11 0x03  0x11 0x00 0x3f 0x00 0xf0 0x9b 0x0d 0x80 
0x19 0xce 0x18 0x6c 0x36 0x00 0x00 0x1b  0x0d 0x80 0x00 0x06 0xc3 0x60 0x4a 0x15 
0xca 0xd9 0xa8 0x42 0x2e 0x52 0x7d 0x12  0x5c 0xd8 0x0d 0x26 0xfb 0x22 0x3b 0x0d 
0x80 0x00 0x83 0x61 0xb0 0x00 0x00 0xd8  0x6c 0x00 0x00 0x36 0x00 0x00 0x00 0x00 
0x00 0x00 0x00 0x96 0xde 0x91 0xa9 0x81  0x84 0x96 0xa5 0x35 0xb9 0x7f 0xe1 0x5e 
0x5c 0xab 0x1a 0xdb 0x25 0x32 0xd8 0xa5  0x18 0x17 0x5f 0xad 0x47 0x85 0x7c 0xb3 
0x53 0x17 0xe9 0xc7 0x7b 0x49 0xce 0x6d  0xbf 0x68 0xa3 0x47 0x1f 0x19 0xcb 0x94 
0x51 0xa7 0x8e 0xaf 0xc5 0x5e 0x88 0x73  0xf9 0xd1 0xce 0xbe 0x2e 0xdf 0xe1 0x13 
0xe9 0xb1 0x1f 0xec 0x7e 0x1c 0x69 0x5b  0x35 0x24 0x92 0xdf 0x39 0x15 0x78 0x5f 
0xd3 0x8b 0x27 0x22 0xea 0xf1 0x3f 0x25  0x5f 0xae 0x7c 0x5f 0x8a 0x7e 0xcb 0xbb 
0xff 0x00 0x63 0x7e 0x27 0xe2 0x19 0xff  0x00 0x6f 0x38 0xf0 0xda 0xd3 0x5f 0xb6 
0x2d 0x99 0xdf 0x4e 0xe5 0xe6 0xd5 0x54  0xda 0xae 0xe8 0xb9 0xcb 0x6f 0x70 0x68 
0x9a 0xcf 0xf4 0xe6 0xdb 0xfe 0x9a 0xb1  0x29 0x89 0x77 0xae 0xfe 0xbf 0x64 0x33 
0x7e 0x92 0x96 0x23 0x6a 0x4e 0xc8 0xf7  0xea 0x8c 0x8b 0xbc 0x22 0xea 0xf6 0xe0 
0xd5 0x8b 0xe1 0x72 0x7f 0xe0 0xf7 0x73  0xcb 0xc9 0xb6 0xae 0x1b 0x17 0x17 0xf2 
0x8c 0x3c 0xbc 0x79 0x46 0x4e 0x5a 0xd0  0xa3 0x8b 0xad 0xf6 0xf0 0x62 0xad 0x2f 
0x07 0x93 0x94 0x5c 0x5b 0x52 0x4d 0x35  0xd5 0x33 0x86 0xdd 0xf8 0xf5 0xe5 0x7a 
0x2c 0xf4 0xd9 0xfb 0x67 0xfe 0xcc 0x7b  0xaa 0x9d 0x16 0xca 0xbb 0x16 0xa5 0x13 
0xa1 0x19 0x15 0xad 0xa1 0x6b 0xd9 0x00  0x00 0x26 0x20 0x00 0x00 0x00 0x03 0xba 
0x0d 0x00 0x0c 0xe1 0x55 0xc7 0x3e 0x27  0xd1 0x1b 0xb8 0x95 0x74 0xe4 0x67 0x78 
0x7c 0x17 0x96 0x8d 0xbc 0x58 0x74 0x39  0x1c 0x56 0x46 0xe9 0x9d 0x1c 0x18 0xbb 
0x21 0xcc 0x58 0x3a 0xe4 0xa4 0x8f 0x47  0x83 0x75 0x17 0x41 0x46 0xe8 0x2d 0xfc 
0x98 0x94 0x44 0xd8 0xc7 0xf0 0xeb 0x67  0x52 0x9c 0x17 0x23 0x0c 0xe5 0xb4 0xfe 
0xab 0x66 0xc7 0x87 0x48 0xd5 0x8e 0x06  0x25 0x8b 0x6b 0x47 0x27 0xe1 0x98 0xcb 
0xab 0x42 0x5e 0x5e 0x45 0x4b 0x49 0x48  0xa6 0xcb 0x2f 0x96 0xd7 0xab 0x64 0xfe 
0x4c 0xfb 0x83 0x3e 0x49 0x4b 0xd1 0x76  0x5f 0xd9 0xe3 0x45 0xf0 0xa4 0xd9 0xe6 
0x3c 0x4a 0xe5 0x74 0xde 0x96 0x91 0xad  0x66 0x26 0x45 0xcf 0xf0 0x93 0xfe 0x44 
0x33 0xfc 0x36 0xdc 0x6a 0x78 0xec 0xff  0x00 0x04 0xd5 0xd5 0xfa 0xd2 0x30 0xe5 
0xdb 0xf4 0x79 0xdc 0x88 0x7b 0xae 0xa2  0x7e 0x21 0x57 0xdc 0x61 0xc6 0xf5 0xf9 
0xd7 0xe9 0x97 0x74 0x68 0x5e 0x2f 0x4a  0xe3 0x8d 0xf4 0xbe 0x92 0x83 0x36 0xf0 
0xf6 0xd3 0x29 0x9f 0x3a 0x30 0x40 0x96  0x8e 0x1d 0x21 0x1c 0x03 0xba 0x00 0x02 
0x49 0x1d 0xe1 0x2d 0xe0 0x3a 0xa1 0xc8  0x8e 0xc9 0x68 0x77 0xc3 0xe5 0xe8 0x48 
0xdd 0xc4 0xd7 0x23 0xcd 0x62 0xcf 0xcb  0xb5 0xc5 0xfc 0x9b 0xd8 0x96 0xf2 0x47 
0x1f 0x89 0x9d 0x36 0x75 0x30 0x5a 0xd2  0x37 0x31 0xd7 0x34 0x7a 0x1c 0x5c 0xb9 
0xd5 0x5a 0x8e 0x93 0x48 0xf2 0xf4 0x5d  0xc9 0x73 0x1d 0xaf 0x2e 0x51 0xf7 0x31 
0x4d 0x38 0x66 0xc7 0x69 0xa3 0xd2 0xff  0x00 0x50 0x83 0x5e 0xa8 0x31 0x55 0x9b 
0x5c 0x6f 0x94 0xb5 0xc9 0xf6 0x32 0x57  0x88 0x3d 0x73 0x2a 0x96 0x76 0x9b 0x65 
0x9d 0x76 0xda 0x32 0x65 0xb4 0x6c 0xdd  0xe2 0x89 0x2f 0x44 0x19 0x89 0xe2 0xb9 
0xd6 0x64 0x52 0xe3 0x2e 0x18 0xaf 0x81  0x5c 0x9f 0x12 0x96 0xb9 0x18 0xf9 0x59 
0xb3 0x9e 0xf7 0x2e 0x46 0x99 0xc8 0xe9  0x68 0xc3 0x93 0x26 0xfb 0x0b 0xdf 0x3e 
0xa5 0x58 0x8f 0xf5 0xe7 0x2f 0x65 0x06  0xca 0x2e 0xbb 0xa9 0xca 0x6d 0xe1 0xc6 
0xba 0x5e 0xed 0x70 0xaf 0xf9 0x34 0xe1  0x8e 0xe8 0xcf 0x3e 0x4c 0xee 0x13 0x9c 
0x25 0xee 0x27 0x38 0x0d 0xdb 0x1e 0x8a  0x74 0x05 0xbc 0x1f 0xc0 0x0f 0x62 0x2e 
0xe0 0x0e 0x02 0xee 0x02 0x32 0x5a 0x2b  0xd9 0x66 0x85 0xad 0xfd 0x39 0x46 0xc5 
0xfc 0x33 0x47 0x0f 0x2b 0xa0 0x85 0xba  0x71 0x71 0x7d 0x18 0xbd 0x37 0xba 0xa7 
0xc2 0xdf 0x4f 0xfb 0x29 0xcb 0x8f 0x99  0x6c 0xba 0x1b 0x48 0xf5 0xb4 0xe4 0xf7 
0x1a 0x8e 0x4a 0x6b 0xa9 0xe6 0xa9 0xcc  0xdf 0xb8 0xdc 0x33 0x3b 0x9c 0xeb 0xc0 
0x5b 0xd5 0x66 0xd3 0xc8 0xee 0x55 0x66  0x57 0x73 0x32 0x59 0xbb 0x5d 0x4a 0x2c 
0xcb 0xeb 0xcc 0x8c 0xe0 0x65 0x57 0x6d  0x8e 0x5f 0x93 0xbf 0x73 0x3a 0xfc 0x82 
0x8b 0x72 0xbb 0x89 0x5d 0x93 0xbf 0x73  0x66 0x3c 0x26 0x76 0xb6 0x5b 0x3b 0xb8 
0x9e 0x86 0x22 0xff 0x00 0x4a 0x31 0x5d  0x17 0x33 0x3a 0xa9 0x39 0xcf 0xa9 0xa1 
0x5c 0x91 0xb2 0x67 0x94 0x9a 0x8d 0x22  0x5c 0x21 0xc0 0x59 0x12 0x6a 0x23 0xd8 
0xb4 0x2f 0xc0 0x03 0x1c 0x00 0x1b 0x16  0x89 0x4a 0x25 0x16 0x72 0x1b 0x9a 0xe4 
0x2b 0x6a 0xea 0x45 0x16 0xca 0x12 0xba  0x62 0x56 0xcf 0x6f 0x7e 0xeb 0xa0 0xd5 
0xc8 0x4a 0xd4 0xcb 0x52 0x2f 0x94 0x8b  0x2b 0xc9 0xef 0xa6 0x86 0x63 0x97 0xcb 
0xa9 0x93 0x2d 0xa7 0xc8 0xef 0x9a 0xd1  0x1a 0xc4 0x27 0x8c 0xd6 0xfb 0xbe 0xe4 
0x67 0x93 0xdc 0xcd 0xf3 0xc3 0xcc 0x6f  0xdc 0x8f 0x48 0xad 0xc8 0xcd 0x97 0xb7 
0xee 0x51 0x29 0xb6 0xca 0xe5 0x3f 0x8e  0x61 0x1d 0xec 0xb6 0x63 0x44 0xe7 0x1f 
0xb6 0x39 0x44 0xb8 0x56 0x90 0xf5 0x53  0x6c 0xce 0xa9 0x0f 0x52 0xba 0x0a 0x91 
0x2a 0x43 0xf5 0xb2 0xf4 0x8a 0x2a 0x43  0x51 0x5c 0x8a 0x99 0x9d 0xa2 0x3c 0x20 
0x59 0xa0 0x16 0xc5 0xa0 0x92 0x17 0xb6  0x1b 0x1b 0x68 0xae 0x51 0xd8 0x93 0x24 
0x99 0x97 0x75 0x5b 0x12 0xb6 0x93 0x6a  0x75 0x6f 0xd8 0x5a 0x74 0x16 0xaa 0x2d 
0x54 0x63 0x4a 0x9e 0xc5 0x6e 0x93 0x5a  0x58 0xfd 0x8a 0xde 0x3f 0x62 0x6a 0xc9 
0xab 0x32 0xfc 0x9e 0xc1 0xe4 0x9a 0x5f  0x6d 0xd8 0x3e 0xdb 0xb0 0xf9 0x89 0x73 
0x99 0xea 0x9e 0xc5 0x90 0xa4 0x79 0x63  0xf6 0x2d 0x86 0x3f 0x61 0x3b 0x22 0xec 
0x56 0xaa 0x7b 0x0e 0xd3 0x57 0x42 0xc8  0x51 0xaf 0x61 0x88 0x56 0x56 0xe8 0xae 
0xa8 0xed 0x70 0x18 0x8a 0x23 0x18 0xe8  0xb1 0x22 0xb6 0xca 0x99 0xcd 0x01 0x20 
0x10 0x1d 0xd1 0x16 0xb9 0x00 0x00 0x10  0x92 0x45 0x72 0x8a 0xf8 0x00 0x24 0x89 
0x22 0xa9 0x45 0x7c 0x10 0x71 0x5f 0x00  0x04 0x89 0x22 0x2e 0x2b 0xe0 0xef 0x0a 
0xf8 0x00 0x18 0xc9 0x28 0xaf 0x82 0x6a  0x2b 0xe0 0x00 0x42 0x65 0x91 0x8a 0xf8 
0x2c 0x49 0x00 0x10 0x64 0x19 0x34 0x89  0x68 0x00 0x42 0x0d 0x00 0x00 0x01 0xff 
0xd9))

(defvar *jpeg3* #(
0xff 0xd8 0xff 0xe0 0x00 0x10 0x4a 0x46  0x49 0x46 0x00 0x01 0x01 0x00 0x00 0x64
0x00 0x64 0x00 0x00 0xff 0xdb 0x00 0x43  0x00 0x0a 0x07 0x07 0x09 0x07 0x06 0x0a
0x09 0x08 0x09 0x0b 0x0b 0x0a 0x0c 0x0f  0x19 0x10 0x0f 0x0e 0x0e 0x0f 0x1e 0x16
0x17 0x12 0x19 0x24 0x20 0x26 0x25 0x23  0x20 0x23 0x22 0x28 0x2d 0x39 0x30 0x28
0x2a 0x36 0x2b 0x22 0x23 0x32 0x44 0x32  0x36 0x3b 0x3d 0x40 0x40 0x40 0x26 0x30
0x46 0x4b 0x45 0x3e 0x4a 0x39 0x3f 0x40  0x3d 0xff 0xdb 0x00 0x43 0x01 0x0b 0x0b
0x0b 0x0f 0x0d 0x0f 0x1d 0x10 0x10 0x1d  0x3d 0x29 0x23 0x29 0x3d 0x3d 0x3d 0x3d
0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d  0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d
0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d  0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d
0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0x3d  0x3d 0x3d 0x3d 0x3d 0x3d 0x3d 0xff 0xc0
0x00 0x11 0x08 0x00 0x1c 0x00 0x1b 0x03  0x01 0x22 0x00 0x02 0x11 0x01 0x03 0x11
0x01 0xff 0xc4 0x00 0x19 0x00 0x00 0x02  0x03 0x01 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x03 0x05  0x04 0x06 0x07 0x01 0xff 0xc4 0x00 0x24
0x10 0x00 0x02 0x02 0x02 0x01 0x03 0x04  0x03 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x01 0x02 0x03 0x04 0x00 0x11 0x31  0x05 0x12 0x21 0x06 0x13 0x16 0x41 0x32
0x51 0x71 0xff 0xc4 0x00 0x17 0x01 0x00  0x03 0x01 0x00 0x00 0x00 0x00 0x00 0x00
0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x02  0x04 0x05 0x01 0xff 0xc4 0x00 0x1d 0x11
0x00 0x02 0x02 0x03 0x00 0x03 0x00 0x00  0x00 0x00 0x00 0x00 0x00 0x00 0x00 0x00
0x01 0x02 0x00 0x03 0x04 0x11 0x12 0x21  0x32 0x41 0xff 0xda 0x00 0x0c 0x03 0x01
0x00 0x02 0x11 0x03 0x11 0x00 0x3f 0x00  0xa3 0x22 0x34 0xae 0x11 0x01 0x2c 0x78
0x18 0xda 0x2f 0x4e 0x4c 0xc9 0x11 0x96  0xc4 0x31 0x19 0x1b 0xb5 0x54 0x86 0x27
0x8e 0x7c 0x0e 0x30 0x7d 0x19 0x15 0x6f  0x0f 0x73 0xec 0x78 0xde 0x69 0x14 0xee
0xc1 0x05 0x15 0x41 0x61 0x94 0xfd 0x8d  0x02 0x07 0xf3 0x79 0x23 0x23 0x2d 0xab
0x7e 0x44 0x9d 0x56 0x38 0x64 0xec 0x99  0x96 0xdd 0xe9 0xf3 0xd1 0x90 0xac 0xa0
0x1d 0x1d 0x6d 0x78 0xc8 0xb9 0x69 0xf5  0x14 0xf0 0x4f 0x66 0x41 0x13 0xb3 0x86
0x53 0xb2 0xdc 0x93 0x95 0xaf 0x64 0xfe  0xb1 0x9a 0x2c 0x2e 0xbb 0x68 0xa9 0x12
0x4d 0xd9 0x0d 0x5d 0x32 0x78 0x65 0x3b  0x07 0x39 0xf2 0x69 0x4c 0x5d 0x9b 0x3b
0xc6 0x16 0x61 0x49 0x14 0xf7 0x0d 0xe2  0xd6 0xa5 0x0f 0x77 0xe3 0x80 0x51 0x1f
0xd8 0x46 0xd7 0x44 0x6a 0x06 0xb5 0xc7  0xb3 0x64 0xb3 0xec 0xef 0xc6 0x36 0x15
0xc1 0x00 0xeb 0x05 0x56 0xac 0x48 0x76  0xab 0x93 0xc0 0x00 0x66 0x92 0x07 0x81
0x01 0x80 0xf9 0x3f 0xff 0xd9))		  

(deftest jpeg-test ()
  "Тест JPEG"
  (print (assert (decode-jpeg *jpeg*)
		 #(#(#(136 102 179) #(111 91 186) #(187 77 104) #(255 183 177) #(60 115 255) #(175 189 174) #(255 239 61) #(247 235 53)) #(#(46 97 238) #(131 109 173) #(50 93 250) #(103 168 144) #(55 149 151) #(194 214 103) #(245 242 85) #(255 236 77)) #(#(42 99 242) #(225 140 33) #(81 106 222) #(25 97 243) #(85 185 95) #(117 176 110) #(143 175 248) #(63 115 251)) #(#(86 138 255) #(239 157 29) #(97 123 208) #(103 169 247) #(115 212 255) #(133 214 243) #(128 212 255) #(92 173 254)) #(#(133 215 255) #(228 159 40) #(155 195 194) #(134 218 252) #(162 228 201) #(165 219 206) #(163 213 212) #(155 224 205)) #(#(145 219 255) #(246 160 37) #(184 227 207) #(255 231 46) #(249 232 54) #(255 234 60) #(247 236 58) #(255 235 67))))))

;;(run-tests)
(let ((j (decode-jpeg *jpeg2*)))
  (print 'P3 (/ (array-size (aref j 0)) 3) (array-size j) 255)
  (print j))
